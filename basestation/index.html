<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>meep meep</title>
    <!-- <script src="mission1.js" type="module" defer></script> -->
    <!-- 
    python3 -m http.server 8001 
    You have to shift click reload at times
    -->
    <!-- just cause the console nags error about not having one -->
    <link rel="apple-touch-icon" sizes="180x180" href="./favico/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./favico/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./favico/favicon-16x16.png">
    <!-- <link rel="manifest" href="/site.webmanifest"> -->

    <link rel="stylesheet" href="./launch.css">

    <!-- idea is to inject here and clear when switching games -->
    <style id="gamestyles" media="screen">
      .fish {
        color: "pwgjpodg";
      }
    </style>
    
    <!-- TEMP TEMPY TEMP untill we have our own custom component again -->
    <script src="https://cdn.jsdelivr.net/npm/lil-gui@0.19"></script>

    
  </head>

  <body>

    
    <canvas id="canvassss" width="400" height="400"></canvas>

    <!-- 
    <div id="controls222">
      <button class="pause button">ℼ</button>
      <button class="play button">☃</button>
      <button class="step button">☂</button>
    </div>
     -->

    <div id="gamespace"></div>
    <div id="bodyInjectionPointMain">
    </div>


    <script type="text/javascript">
        // var _o;
        
        // these are needed here for now cause the gl-matrix plugin is not import type module
        // todo: swap out
        // const { vec2, vec3, mat3, mat4 } = glMatrix;

        // APPPP.model1 = {
        //   pos.
        // }
        
        // var onConsole;
        
    </script>


    <script type="importmap">
			{
				"imports": {
					"game": "./core/game.js",
          "utilites/": "./utilites/",
          "pipelines/": "./core/pipelines/",
          "gl/": "./core/gl/",
          "modules/" : "./modules/",
          "primitives/" : "./primitives/"
				}
			}
		</script>
    
    <script type="module" type="text/javascript">
      import {memory as _m} from './core/memory.js';
      import {BaseStation} from './core/baseStation.js';
      
      window._m = _m;
      
      const _b = _m.baseStation = new BaseStation({
        canvasId : "canvassss"
      });
      
      import { NotPac } from  "./games/notPac.js";
      

                // import { OnScreenLogger } from "./Plugins/OnScreenLogger.js";                
                // its in the other script tag
                // onConsole = new OnScreenLogger();
                
      

      // for now we need a starter empty game cause swaping discs 
      // via url is not fully clearing the starting game
      // _o.insertDisc(starter);
      
      _b.insertDisc({game:NotPac});
    

    </script>
    
    <script>
    console.log("lil gui TEMP!!");
    var GUI = lil.GUI;
    const gui = new GUI();
    const __dats = {
      x : 0,
      y : 0,
      z : -200,
      rz : 0,
      ry : 0,
      fov : 40,
      near : 1,
      far : 2000,
      x2 : 1,
      s2 : 1,
      r2x : 0,
      r2y : 0,
      r2z : 0,
    }
    gui.add( __dats, 'x', -400, 400 );
    gui.add( __dats, 'y', -400, 400 );
    gui.add( __dats, 'z', -400, 400 );
    gui.add( __dats, 'rz', 0, Math.PI*2 );
    gui.add( __dats, 'ry', 0, Math.PI*2 );
    // gui.add( __dats, 'fov', 0, Math.PI*2 );
    gui.add( __dats, 'fov', 0, 360 );
    gui.add( __dats, 'near', 0, 200 );
    gui.add( __dats, 'far', 0, 2000 );
    gui.add( __dats, 'x2', 0, 400 );
    gui.add( __dats, 's2', 0.0001, 4 );
    gui.add( __dats, 'r2x', 0, Math.PI*4 );
    gui.add( __dats, 'r2y', 0, Math.PI*4 );
    gui.add( __dats, 'r2z', 0, Math.PI*4 );

    </script>
  </body>
</html>
